<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">

<ui:composition template="/arch.xhtml">

    <ui:define name="head">
    <title>Ajout d'un arrêt</title>
    </ui:define>

    <ui:define name="content">
        <b:form id="fillLine">
            <b:panel style-class="mt-3rem mb-5rem
				col-sm-offset-1 col-md-offset-2 col-xs-12 col-sm-10 col-md-8">
                <b:row>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:selectOneMenu
                                id="setRole"
                                value="#{mbfillLines.newRole}">
                            <f:selectItem itemLabel="Choisissez un rôle"  itemDisabled="true" noSelectionOption="true"/>
                            <f:selectItems
                                    value="#{mbfillLines.roles}"
                                    var="role"
                                    itemValue="#{role}"
                                    itemLabel="#{role.name()}"
                            />
                        </b:selectOneMenu>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:selectOneMenu
                                id="setDay"
                                value="#{mbfillLines.newTypicalDay}">
                            <f:selectItem itemLabel="Choisissez un jour type"  itemDisabled="true" noSelectionOption="true"/>
                            <f:selectItems
                                    value="#{mbfillLines.typicalDays}"
                                    var="typicalDay"
                                    itemValue="#{typicalDay}"
                                    itemLabel="#{typicalDay.name()}"
                            />
                        </b:selectOneMenu>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:selectOneMenu
                                id="setTimeslot"
                                value="#{mbfillLines.newTimeSlot}">
                            <f:selectItem itemLabel="Choisissez un créneau"  itemDisabled="true" noSelectionOption="true"/>
                            <f:selectItems
                                    value="#{mbfillLines.timeSlots}"
                                    var="timeSlot"
                                    itemValue="#{timeSlot}"
                                    itemLabel="#{timeSlot.name()}"
                            />
                        </b:selectOneMenu>
                    </b:column>
                </b:row>
                <b:row>
                    <b:column
                            style-class="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:commandButton style-class="w-100" value="Trouver des volontaires disponibles"
                                         action="#{mbfillLines.findPilotes()}" />
                    </b:column>
                </b:row>
            </b:panel>
            <b:panel rendered="#{mbfillLines.pilotes.size()>0}">
                <b:row>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:selectOneMenu
                                id="showAccompagnants"
                                value="#{mbfillLines.selectedPilote}">
                            <f:selectItem itemLabel="Choisissez un volontaire"  itemDisabled="true" noSelectionOption="true"/>
                            <f:selectItems
                                    value="#{mbfillLines.pilotes}"
                                    var="thisAccompagnant"
                                    itemValue="#{thisAccompagnant}"
                                    itemLabel="#{thisAccompagnant.nameUser} #{thisAccompagnant.firstnameUser}"
                            />
                        </b:selectOneMenu>
                    </b:column>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-2 col-xs-10 col-sm-8 col-md-8">
                        <b:selectOneMenu
                                id="showLine"
                                value="#{mbfillLines.selectedLine}">
                            <f:selectItem itemLabel="Choisissez sa ligne"  itemDisabled="true" noSelectionOption="true"/>
                            <f:selectItems
                                    value="#{mbfillLines.lines}"
                                    var="line"
                                    itemValue="#{line}"
                                    itemLabel="#{line.nameLine}"
                            />
                        </b:selectOneMenu>
                    </b:column>
                    <b:column styleClass="col-xs-offset-1 col-sm-offset-4 col-xs-10 col-sm-8 col-md-8">
                        <b:commandButton value="Assigner le volontaire à la ligne" action="#{mbfillLines.attribuateAccompagnant()}"/>
                    </b:column>
                </b:row>
            </b:panel>
        </b:form>
    </ui:define>
</ui:composition>
</html>
